# Template file for 'radicale'
pkgname=radicale
version=2.1.8
revision=1
wrksrc=Radicale-${version}
build_style=python3-module
conf_files="
/etc/radicale/config
/etc/sv/radicale/log/run"
make_dirs="
/etc/radicale 755 root root
/usr/share/radicale/ 755 root root
/var/log/radicale/ 700 root root
/var/lib/radicale 750 radicale radicale"
noarch=yes
hostmakedepends="python3 python3-setuptools"
depends="python3-vobject python3-flake8 python3-isort"
pycompile_module="radicale"
short_desc="Complete calendar and contact storing and manipulating solution"
maintainer="lemmi <lemmi@nerd2nerd.org>"
license="GPL-3"
homepage="http://radicale.org"
distfiles="${PYPI_SITE}/R/Radicale/Radicale-${version}.tar.gz"
checksum=720d7c63faa9b9ce9f019067cb846cb2ca593a3c13af343a65cd40b4e381cde8

system_accounts="radicale"
radicale_homedir="/var/lib/radicale"

post_install() {
	vinstall config 644 etc/radicale/
	vinstall radicale.fcgi 644 usr/share/radicale
	vinstall radicale.wsgi 644 usr/share/radicale
	vsv radicale
}
